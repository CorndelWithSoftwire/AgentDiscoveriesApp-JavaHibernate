package org.softwire.training.models;

import org.apache.pdfbox.pdmodel.PDDocument;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.util.ArrayList;

public class PDFBox {

    PDDocument document = new PDDocument();

    PDPage my_page = new PDPage();
    document.addPage(my_page);

    int noOfPages= document.getNumberOfPages();
    System.out.print(noOfPages);

    PDImageXObject pdImage = PDImageXObject.createFromFile("C:
    PDPageContentStream contents = new PDPageContentStream(doc, page);
    contents.drawImage(pdImage, 70, 250);
    contents.close();

    PDDocumentInformation pdd = document.getDocumentInformation();

    pdd.setAuthor(String author);
        setTitle(String title);
        setCreator(String creator);
        setSubject(String subject);

    Calendar date = new GregorianCalendar();
    date.set(2015, 11, 5);
    pdd.setCreationDate(date);

    setModificationDate(Calendar date);
    setKeywords(String keywords list);

    AccessPermission accessPermission = new AccessPermission();
    StandardProtectionPolicy spp = new StandardProtectionPolicy("1234","1234",accessPermission);
    spp.setEncryptionKeyLength(128);
    spp.setPermissions(ap);

    document.protect(spp);


    document.save(".../downloads");
    System.out.println("PDF created");
    document.close();

    File file = new File("path of the document")
    PDDocument.load(file);





    public void regionReader() {
        ArrayList<String> regionById = new ArrayList<>();

    }

    public void locationReader() {
        //bring in the information
    }

    public void parse() {
        //parse information
    }

    public void display() {
        //download the document
    }

    //back end
                                    //maybe not -- find where the information is stored --reportbase
        //extract the information (from SQL re:region/location-report)
            //when "export" is pressed - take the current report ID
            //search for report ID in SQL
            //"select * from location_reports where id='" + getReportId + "'"3
            //"select * from region_summary_reports where id='" + getReportId + "'"
            //assign to list
            //split appropriately
        //seperate method to generate .pdf file
            //decide whether to just download, or display/download
        //seperate method to export
    //front end
        //create a button on locations report
        //create a button on region report
        //button calls pdfreader (class)

}
